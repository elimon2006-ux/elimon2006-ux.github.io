<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mi Pedido</title>
    <link rel="stylesheet" href="style.css">
    
    <style>
        body { background-color: #1b1b1b; color: white; font-family: "Georgia", serif; text-align: center; }
        table { width: 90%; margin: 20px auto; border-collapse: collapse; }
        th { background-color: #240000; color: #d1b7a3; padding: 15px; }
        td { border-bottom: 1px solid #4a2525; padding: 15px; }
        .btn-outline { border: 1px solid white; background: transparent; color: white; padding: 5px 10px; cursor: pointer; }
    </style>
</head>
<body>

<nav class="navbar">
    <div class="nav-left"><a class="nav-title" href="index.html">üçΩÔ∏è Mi Restaurante</a></div>
    <div class="nav-right">
        <a href="menu.html">Seguir pidiendo</a>
        <a href="dashboard.html">Mi cuenta</a>
    </div>
</nav>

<h1 class="titulo">Tu Pedido</h1>

<div id="mensaje-exito" style="display:none; background:#2a4a2a; color:#c8ffc8; padding:15px; margin:20px auto; border-radius:8px; width:50%;">
    ¬°Pedido confirmado exitosamente! La cocina est√° preparando tus alimentos.
</div>

<table id="tabla-pedido">
    <thead>
        <tr>
            <th>Platillo</th>
            <th>Precio</th>
            <th>Cantidad</th>
            <th>Subtotal</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        <tr class="item-fila">
            <td>Taco al pastor</td>
            <td class="precio" data-valor="18.0">$18.0</td>
            <td><span class="cantidad">2</span></td>
            <td class="subtotal">$36.0</td>
            <td>
                <button class="btn-outline" onclick="cambiarCantidad(this, 1)">+</button>
                <button class="btn-outline" onclick="cambiarCantidad(this, -1)">-</button>
                <button class="btn-outline" style="border-color:#ff4444; color:#ff4444;" onclick="eliminarFila(this)">‚úï</button>
            </td>
        </tr>

        <tr class="item-fila">
            <td>Enchiladas verdes</td>
            <td class="precio" data-valor="80.0">$80.0</td>
            <td><span class="cantidad">1</span></td>
            <td class="subtotal">$80.0</td>
            <td>
                <button class="btn-outline" onclick="cambiarCantidad(this, 1)">+</button>
                <button class="btn-outline" onclick="cambiarCantidad(this, -1)">-</button>
                <button class="btn-outline" style="border-color:#ff4444; color:#ff4444;" onclick="eliminarFila(this)">‚úï</button>
            </td>
        </tr>

        <tr class="item-fila">
            <td>Flan napolitano</td>
            <td class="precio" data-valor="40.0">$40.0</td>
            <td><span class="cantidad">1</span></td>
            <td class="subtotal">$40.0</td>
            <td>
                <button class="btn-outline" onclick="cambiarCantidad(this, 1)">+</button>
                <button class="btn-outline" onclick="cambiarCantidad(this, -1)">-</button>
                <button class="btn-outline" style="border-color:#ff4444; color:#ff4444;" onclick="eliminarFila(this)">‚úï</button>
            </td>
        </tr>
    </tbody>
</table>

<h2 style="margin-top:20px;">Total: <span id="gran-total">$156.0</span></h2>

<button onclick="confirmarPedido()" class="btn" style="background:#3b0000; color:white; padding:12px 24px; font-size:18px; border:none; border-radius:8px; cursor:pointer; margin-top:20px;">
    Confirmar Pedido
</button>

<script>
    function actualizarTotal() {
        let total = 0;
        document.querySelectorAll('.item-fila').forEach(fila => {
            const precio = parseFloat(fila.querySelector('.precio').dataset.valor);
            const cantidad = parseInt(fila.querySelector('.cantidad').innerText);
            const subtotal = precio * cantidad;
            fila.querySelector('.subtotal').innerText = '$' + subtotal.toFixed(1);
            total += subtotal;
        });
        document.getElementById('gran-total').innerText = '$' + total.toFixed(1);
    }

    function cambiarCantidad(btn, n) {
        const span = btn.closest('tr').querySelector('.cantidad');
        let cant = parseInt(span.innerText) + n;
        if (cant < 1) cant = 1;
        span.innerText = cant;
        actualizarTotal();
    }

    function eliminarFila(btn) {
        if(confirm("¬øEliminar platillo?")) {
            btn.closest('tr').remove();
            actualizarTotal();
        }
    }

    function confirmarPedido() {
        document.getElementById('tabla-pedido').style.display = 'none';
        document.querySelector('h2').style.display = 'none';
        document.querySelector('button[onclick="confirmarPedido()"]').style.display = 'none';
        document.getElementById('mensaje-exito').style.display = 'block';
    }
</script>

</body>
</html>
